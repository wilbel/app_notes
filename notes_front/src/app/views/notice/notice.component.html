<div class="container-fluid">
    <div class="row">
        <nav class="col-md-2 sidebar">
            <app-menu-user></app-menu-user>
        </nav>
        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4 main-content">

            <h2>Registrar Noticia</h2>
            <div class="alert alert-secondary" role="alert">
                Completa los datos faltantes para poder registrar las noticias. <a href="/lista_notice">
                    Ver noticias </a>
            </div>

            <form [formGroup]="registerNoticeForm" (ngSubmit)="postRegisterNotice(registerNoticeForm.value)"
                enctype="multipart/form-data">

                <div class="row">
                    <div class="form-group col-md-6 mt-2 mb-2">
                        <label for="inputTitle" class="mb-2">Título</label>
                        <input type="text" class="form-control" id="inputTitle" placeholder="Título"
                            formControlName="title">
                        <div *ngIf="registerNoticeForm?.get('title')?.hasError('required')" class="error-message">
                            Título es requerido.
                        </div>
                    </div>

                    <div class="form-group col-md-6 mt-2 mb-2">
                        <label for="inputDate" class="mb-2">Fecha</label>
                        <input type="text" class="form-control" id="inputDate" placeholder="Fecha"
                            formControlName="date" readonly>
                    </div>
                    <input type="hidden" class="form-control" id="inputDate" placeholder="Fecha"
                        formControlName="reminder_date" readonly>
                </div>

                <div class="row">
                    <div class="form-group col-md-12 mt-2 mb-2">
                        <label for="inputDescription" class="mb-2">Descripción</label>
                        <textarea class="form-control" cols="10" rows="5" formControlName="description"
                            placeholder="Descripción"></textarea>
                        <div *ngIf="registerNoticeForm?.get('description')?.hasError('required')" class="error-message">
                            Descripción es requerido.
                        </div>
                    </div>
                </div>


                <div class="row">
                    <div class="form-group col-md-6 mt-2 mb-2">
                        <label for="inputImage" class="mb-2">Imagen</label>
                        <input type="file" class="form-control" id="inputImage" (change)="handleImageChange($event)"
                            accept="image/*">
                        <img *ngIf="previewImage" [src]="previewImage" alt="Preview" class="img-thumbnail mt-2"
                            style="max-width: 100%">
                    </div>
                </div>

                <button type="submit" class="btn btn-primary mt-2 mb-2 btn-register">Solicitar</button>
            </form>
            <br>

            <div *ngIf="errorMessage" class="alert alert-primary" role="alert">
                {{ errorMessage }}
            </div>


        </main>
        <app-footer></app-footer>
    </div>
</div>